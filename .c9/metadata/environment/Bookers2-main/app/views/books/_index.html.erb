{"filter":false,"title":"_index.html.erb","tooltip":"/Bookers2-main/app/views/books/_index.html.erb","undoManager":{"mark":29,"position":27,"stack":[[{"start":{"row":86,"column":0},"end":{"row":267,"column":16},"action":"remove","lines":["<!--<script type=\"module\">-->","<!--  new Vue ({-->","<!--    el: 'search',-->","<!--    data() {-->","<!--      return {-->","<!--        keyword: '',-->","<!--        memos: '',-->","<!--      }-->","<!--    },-->","","<!--    mounted: function() {-->","<!--      this.setBook();-->","<!--    },-->","","<!--    methods: {-->","      <!--// onInput: function(){-->","      <!--//   axios.get('/books', {-->","      <!--//     params: {-->","      <!--//       content: this.keyword-->","      <!--//     }-->","      <!--//   })-->","      <!--// },-->","<!--      setBook: function () {-->","<!--        axios.get('/api/books')-->","<!--        .then(response => {-->","<!--          this.memos = response.data;-->","<!--        });-->","<!--      },-->","<!--    }-->","<!--  })-->","<!--</script>-->","","<!--<script>-->","<!--  new Vue ({-->","<!--    el: '#search',-->","<!--    data() {-->","<!--      return {-->","<!--        books: JSON.parse(document.getElementById('books_json').dataset.json),-->","<!--        keyword: '',-->","<!--      }-->","<!--    },-->","","    <!--methods: {-->","    <!--  bindKeyword({ target }) {-->","    <!--    this.keyword =  target.value;-->","    <!--  }-->","    <!--},-->","","    <!--computed: {-->","    <!--  filteredBooks: function () {-->","    <!--    let filterBooks = [];-->","    <!--    for (let i in this.books) {-->","    <!--        let book = this.books[i];-->","    <!--        if (book.title.indexOf(this.keyword) !== -1) {-->","    <!--          filterBooks.push(book);-->","    <!--        }-->","    <!--    }-->","    <!--    return filterBooks;-->","<!--      }-->","<!--    }-->","<!--  })-->","<!--</script>-->","","<!--<table class=\"table mb-0 book-table\">-->","<!--<tr>-->","<!--  <th class='col-2'></th>-->","<!--  <th class='col-2'>Title</th>-->","<!--  <th class='col-2'>Category</th>-->","<!--  <th class='col-6'>Opinion</th>-->","<!--</tr>-->","<!--</table>-->","<!--<% books.each do |book|%>-->","<!--  <div class=\"container mb-3 py-3 rounded book-item\">-->","<!--    <div class=\"row border-bottom pb-2 align-items-center\">-->","<!--      <div class=\"col-md-2 col-4\">-->","<!--        <%= link_to user_path(book.user) do %>-->","<!--          <%= attachment_image_tag book.user, :profile_image, :fill, 50, 50, fallback: \"no-image-icon.jpg\" %>-->","<!--        <% end %>-->","<!--      </div>-->","<!--      <div class=\"col-md-2 col-6 text-break\">-->","<!--        <%= link_to book_path(book) do %>-->","<!--          <%= book.title %>-->","<!--        <% end %>-->","<!--      </div>-->","<!--      <div class=\"col-md-2\">-->","<!--        <span class=\"d-inline-block d-md-none my-2 mr-1\">category: </span>-->","<!--          <% book.tags.each do |tag| %>-->","<!--            <%= link_to books_path(tag: tag.tag_name) do %>-->","<!--              <%= tag.tag_name %>-->","<!--            <% end %>-->","<!--          <% end %>-->","<!--      </div>-->","<!--      <div class=\"col-md-6 text-break\">-->","<!--        <%= book.body.truncate(71, omission: '...') %>-->","<!--      </div>-->","<!--    </div>-->","<!--    <div class=\"row py-2\">-->","<!--      <div class=\"col-md-2 favorite-btn<%= book.id %>\">-->","<!--        <%= render \"favorites/favorite\", book:book %>-->","<!--      </div>-->","","<!--      <div class=\"col-md-3\">-->","<!--        コメントの数: <%= book.post_comments.count %>-->","<!--      </div>-->","<!--      <div class=\"col-md-3\">閲覧数: <%= book.book_count %></div>-->","","<!--      <div class=\"col-md-4\" id=\"star_evaluation_<%= book.id %>\">-->","<!--        <script>-->","<!--        $('#star_evaluation_<%= book.id %>').empty();-->","<!--        $('#star_evaluation_<%= book.id %>').raty({-->","<!--          size     : 36,-->","<!--          starOff:  '<%= asset_path('star-off.png') %>',-->","<!--          starOn : '<%= asset_path('star-on.png') %>',-->","<!--          starHalf: '<%= asset_path('star-half.png') %>',-->","<!--          half: true,-->","<!--          readOnly: true,-->","<!--          score: <%= book.evaluation %>-->","<!--        });-->","<!--        </script>-->","<!--      </div>-->","<!--    </div>-->","<!--  </div>-->","<!--<% end %>-->","","<!-- Styles -->","<!--<style>-->","<!--    #chartdiv {-->","<!--        width: 100%;-->","<!--        height: 600px;-->","<!--    }-->","<!--</style>-->","","","<!-- HTML -->","<!--<div id=\"tag_info\" data-json=\"<%=  @results.to_json %>\"></div>-->","<!--<div id=\"chartdiv\"></div>-->","","","","<!-- Chart code -->","<!--<script>-->","<!--    am4core.ready(function() {-->","","        // Themes begin","<!--        am4core.useTheme(am4themes_animated);-->","        // Themes end","","<!--        const chart = am4core.create(\"chartdiv\", am4plugins_wordCloud.WordCloud);-->","<!--        chart.fontFamily = \"Courier New\";-->","<!--        const series = chart.series.push(new am4plugins_wordCloud.WordCloudSeries());-->","<!--        series.randomness = 0.1;-->","<!--        series.rotationThreshold = 0.5;-->","","<!--        series.data = JSON.parse(document.getElementById('tag_info').dataset.json);-->","","<!--        series.dataFields.word = \"tag\";-->","<!--        series.dataFields.value = \"count\";-->","","<!--        series.heatRules.push({-->","<!--            \"target\": series.labels.template,-->","<!--            \"property\": \"fill\",-->","<!--            \"min\": am4core.color(\"#0000CC\"),-->","<!--            \"max\": am4core.color(\"#CC00CC\"),-->","<!--            \"dataField\": \"value\"-->","<!--        });-->","","<!--        series.labels.template.url = \"https://e367016fe1e844c2b818277d30c8f55c.vfs.cloud9.us-east-1.amazonaws.com/books?tag={word}\";-->","<!--        series.labels.template.tooltipText = \"{word}: {value}\";-->","","<!--        const hoverState = series.labels.template.states.create(\"hover\");-->","<!--        hoverState.properties.fill = am4core.color(\"#FF0000\");-->","","<!--        const subtitle = chart.titles.create();-->","<!--        subtitle.text = \"(click to open)\";-->","","<!--        const title = chart.titles.create();-->","<!--        title.text = \"Most Popular Tags @ StackOverflow\";-->","<!--        title.fontSize = 20;-->","<!--        title.fontWeight = \"800\";-->","","    }); // end am4core.ready()","<!--</script>-->"],"id":2},{"start":{"row":85,"column":0},"end":{"row":86,"column":0},"action":"remove","lines":["",""]},{"start":{"row":84,"column":35},"end":{"row":85,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":84,"column":35},"end":{"row":85,"column":0},"action":"remove","lines":["",""],"id":3}],[{"start":{"row":68,"column":16},"end":{"row":69,"column":0},"action":"insert","lines":["",""],"id":12},{"start":{"row":69,"column":0},"end":{"row":69,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":69,"column":8},"end":{"row":69,"column":54},"action":"insert","lines":["$(document).on('turbolinks:load', function(){}"],"id":13}],[{"start":{"row":69,"column":53},"end":{"row":69,"column":54},"action":"remove","lines":["}"],"id":14}],[{"start":{"row":70,"column":0},"end":{"row":70,"column":2},"action":"insert","lines":["  "],"id":15},{"start":{"row":71,"column":0},"end":{"row":71,"column":2},"action":"insert","lines":["  "]},{"start":{"row":72,"column":0},"end":{"row":72,"column":2},"action":"insert","lines":["  "]},{"start":{"row":73,"column":0},"end":{"row":73,"column":2},"action":"insert","lines":["  "]},{"start":{"row":74,"column":0},"end":{"row":74,"column":2},"action":"insert","lines":["  "]},{"start":{"row":75,"column":0},"end":{"row":75,"column":2},"action":"insert","lines":["  "]},{"start":{"row":76,"column":0},"end":{"row":76,"column":2},"action":"insert","lines":["  "]},{"start":{"row":77,"column":0},"end":{"row":77,"column":2},"action":"insert","lines":["  "]},{"start":{"row":78,"column":0},"end":{"row":78,"column":2},"action":"insert","lines":["  "]},{"start":{"row":79,"column":0},"end":{"row":79,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":79,"column":13},"end":{"row":80,"column":0},"action":"insert","lines":["",""],"id":16},{"start":{"row":80,"column":0},"end":{"row":80,"column":10},"action":"insert","lines":["          "]}],[{"start":{"row":80,"column":8},"end":{"row":80,"column":10},"action":"remove","lines":["  "],"id":17}],[{"start":{"row":80,"column":8},"end":{"row":80,"column":9},"action":"insert","lines":["a"],"id":18}],[{"start":{"row":80,"column":8},"end":{"row":80,"column":9},"action":"remove","lines":["a"],"id":19}],[{"start":{"row":80,"column":8},"end":{"row":80,"column":9},"action":"insert","lines":["]"],"id":20}],[{"start":{"row":80,"column":8},"end":{"row":80,"column":9},"action":"remove","lines":["]"],"id":21}],[{"start":{"row":80,"column":8},"end":{"row":80,"column":9},"action":"insert","lines":["}"],"id":22}],[{"start":{"row":80,"column":9},"end":{"row":80,"column":10},"action":"insert","lines":["0"],"id":29}],[{"start":{"row":80,"column":9},"end":{"row":80,"column":10},"action":"remove","lines":["0"],"id":30}],[{"start":{"row":80,"column":9},"end":{"row":80,"column":10},"action":"insert","lines":[")"],"id":31}],[{"start":{"row":80,"column":10},"end":{"row":80,"column":11},"action":"insert","lines":[";"],"id":32}],[{"start":{"row":67,"column":64},"end":{"row":68,"column":8},"action":"insert","lines":["","        "],"id":33}],[{"start":{"row":68,"column":8},"end":{"row":68,"column":30},"action":"insert","lines":["<%= book.evaluation %>"],"id":34}],[{"start":{"row":81,"column":8},"end":{"row":81,"column":11},"action":"remove","lines":["});"],"id":35}],[{"start":{"row":81,"column":0},"end":{"row":81,"column":8},"action":"remove","lines":["        "],"id":36}],[{"start":{"row":80,"column":13},"end":{"row":81,"column":0},"action":"remove","lines":["",""],"id":37}],[{"start":{"row":70,"column":8},"end":{"row":70,"column":53},"action":"remove","lines":["$(document).on('turbolinks:load', function(){"],"id":38}],[{"start":{"row":70,"column":0},"end":{"row":70,"column":8},"action":"remove","lines":["        "],"id":39}],[{"start":{"row":69,"column":16},"end":{"row":70,"column":0},"action":"remove","lines":["",""],"id":40}],[{"start":{"row":68,"column":8},"end":{"row":68,"column":30},"action":"remove","lines":["<%= book.evaluation %>"],"id":41}],[{"start":{"row":68,"column":0},"end":{"row":68,"column":8},"action":"remove","lines":["        "],"id":42}],[{"start":{"row":67,"column":64},"end":{"row":68,"column":0},"action":"remove","lines":["",""],"id":43}],[{"start":{"row":67,"column":0},"end":{"row":67,"column":6},"action":"remove","lines":["      "],"id":52}],[{"start":{"row":67,"column":6},"end":{"row":80,"column":12},"action":"remove","lines":["<div class=\"col-md-4\" id=\"star_evaluation_<%= book.id %>\">","        <script>","          $('#star_evaluation_<%= book.id %>').empty();","          $('#star_evaluation_<%= book.id %>').raty({","            size     : 36,","            starOff:  '<%= asset_path('star-off.png') %>',","            starOn : '<%= asset_path('star-on.png') %>',","            starHalf: '<%= asset_path('star-half.png') %>',","            half: true,","            readOnly: true,","            score: <%= book.evaluation %>","          });","        </script>","      </div>"],"id":52}]]},"ace":{"folds":[],"scrolltop":798.5,"scrollleft":0,"selection":{"start":{"row":65,"column":61},"end":{"row":65,"column":61},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":56,"state":"start","mode":"ace/mode/html_ruby"}},"timestamp":1633101166450,"hash":"69be1ab622f1d2c888298b659ab69d24206fd8b7"}